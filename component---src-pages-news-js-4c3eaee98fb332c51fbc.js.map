{"version":3,"file":"component---src-pages-news-js-4c3eaee98fb332c51fbc.js","mappings":"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","sources":["webpack://zarif98sjs/./src/pages/news.js"],"sourcesContent":["import React, { useRef, useEffect,useState } from 'react';\r\nimport { graphql,useStaticQuery } from 'gatsby';\r\nimport PropTypes from 'prop-types';\r\nimport { Helmet } from 'react-helmet';\r\nimport styled from 'styled-components';\r\nimport { srConfig } from '@config';\r\nimport sr from '@utils/sr';\r\nimport { Layout } from '@components';\r\nimport { Icon } from '@components/icons';\r\nimport { usePrefersReducedMotion } from '@hooks';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\nconst StyledProjectsSection = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  h2 {\r\n    font-size: clamp(24px, 5vw, var(--fz-heading));\r\n  }\r\n\r\n  .archive-link {\r\n    font-family: var(--font-mono);\r\n    font-size: var(--fz-sm);\r\n    &:after {\r\n      bottom: 0.1em;\r\n    }\r\n  }\r\n\r\n  .projects-grid {\r\n    ${({ theme }) => theme.mixins.resetList};\r\n    display: grid;\r\n    grid-gap: 15px;\r\n    position: relative;\r\n    margin-top: 50px;\r\n  }\r\n\r\n  .more-button {\r\n    ${({ theme }) => theme.mixins.button};\r\n    margin: 80px auto 0;\r\n  }\r\n`;\r\n\r\nconst StyledProject = styled.li`\r\n  position: relative;\r\n  cursor: default;\r\n  transition: var(--transition);\r\n\r\n  @media (prefers-reduced-motion: no-preference) {\r\n    &:hover,\r\n    &:focus-within {\r\n      .project-inner {\r\n        transform: translateY(-7px);\r\n      }\r\n    }\r\n  }\r\n\r\n  a {\r\n    position: relative;\r\n    z-index: 1;\r\n  }\r\n\r\n  .project-inner {\r\n    ${({ theme }) => theme.mixins.boxShadow};\r\n    ${({ theme }) => theme.mixins.flexBetween};\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    position: relative;\r\n    height: 100%;\r\n    padding: 0.8rem 1.2rem;\r\n    border-radius: var(--border-radius);\r\n    background-color: ${props => props.theme.lightnavy};\r\n    transition: var(--transition);\r\n  }\r\n\r\n  .project-top {\r\n    ${({ theme }) => theme.mixins.flexBetween};\r\n    margin-bottom: 15px;\r\n\r\n    .folder {\r\n      color: ${props => props.theme.higlight};\r\n      svg {\r\n        width: 30px;\r\n        height: 30px;\r\n      }\r\n    }\r\n\r\n    .project-links {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-right: -10px;\r\n      color: ${props => props.theme.lightslate};\r\n\r\n      a {\r\n        ${({ theme }) => theme.mixins.flexCenter};\r\n        padding: 5px 7px;\r\n\r\n        svg {\r\n          width: 20px;\r\n          height: 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .project-title {\r\n    margin: 0 0 10px;\r\n    color: ${props => props.theme.lightestslate};\r\n    font-size: var(--fz-lg);\r\n\r\n    a {\r\n      position: static;\r\n\r\n      &:before {\r\n        content: '';\r\n        display: block;\r\n        position: absolute;\r\n        z-index: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        top: 0;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  .project-description {\r\n    color: ${props => props.theme.lightslate};\r\n    font-size: 17px;\r\n\r\n    code{\r\n      color: ${props => props.theme.higlight};\r\n    }\r\n\r\n    a {\r\n      ${({ theme }) => theme.mixins.inlineLink};\r\n    }\r\n  }\r\n\r\n  .project-tag-list {\r\n    display: flex;\r\n    align-items: flex-end;\r\n    flex-grow: 1;\r\n    flex-wrap: wrap;\r\n    padding: 0;\r\n    margin: 5px 0 0 0;\r\n    list-style: none;\r\n\r\n    li {\r\n      font-family: var(--font-mono);\r\n      font-size: var(--fz-xxs);\r\n      line-height: 1.75;\r\n\r\n      &:not(:last-of-type) {\r\n        margin-right: 15px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst ArchivePage = ({ location }) => {\r\n  const revealTitle = useRef(null);\r\n  const revealProjects = useRef([]);\r\n  const prefersReducedMotion = usePrefersReducedMotion();\r\n\r\n  const [showMore, setShowMore] = useState(false);\r\n\r\n  const data = useStaticQuery(graphql`\r\n    query {\r\n      projects: allMarkdownRemark(\r\n        filter: {\r\n          fileAbsolutePath: { regex: \"/news/\" }\r\n          frontmatter: { showInProjects: { ne: false } }\r\n        }\r\n        sort: { fields: [frontmatter___date], order: DESC }\r\n      ) {\r\n        edges {\r\n          node {\r\n            frontmatter {\r\n              title\r\n              tags\r\n              github\r\n            }\r\n            html\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `);\r\n\r\n  useEffect(() => {\r\n    if (prefersReducedMotion) {\r\n      return;\r\n    }\r\n\r\n    sr.reveal(revealTitle.current, srConfig());\r\n    revealProjects.current.forEach((ref, i) => sr.reveal(ref, srConfig(i * 100)));\r\n  }, []);\r\n\r\n  const GRID_LIMIT = 6;\r\n  const projects = data.projects.edges.filter(({ node }) => node);\r\n  const firstSix = projects.slice(0, GRID_LIMIT);\r\n  const projectsToShow = showMore ? projects : firstSix;\r\n\r\n  const projectInner = node => {\r\n    const { frontmatter, html } = node;\r\n    const { github, title, tags } = frontmatter;\r\n\r\n    return (\r\n      <div className=\"project-inner\" style={{ width: '70%', margin: '0 auto' }}>\r\n        <div style={{ width: '100%' }}>\r\n          <div className=\"project-top\">\r\n            <div className=\"folder\">\r\n              <Icon name=\"News\" />\r\n            </div>\r\n            <div className=\"project-links\">\r\n              {github && (\r\n                <a href={github} aria-label=\"GitHub Link\" target=\"_blank\" rel=\"noreferrer\">\r\n                  <Icon name=\"\" />\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <h3 className=\"project-title\">\r\n            {title}\r\n          </h3>\r\n\r\n          <div className=\"project-description\" dangerouslySetInnerHTML={{ __html: html }} />\r\n        </div>\r\n\r\n        <footer>\r\n          {tags && (\r\n            <ul className=\"project-tag-list\">\r\n              {tags.map((tag, i) => (\r\n                <li key={i}>{tag}</li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </footer>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout location={location}>\r\n      <Helmet title=\"News\" />\r\n\r\n      <main>\r\n        <header ref={revealTitle}>\r\n          <h1 className=\"big-heading\">News</h1>\r\n          <p className=\"subtitle\">Life updates ...</p>\r\n        </header>\r\n\r\n        <StyledProjectsSection>\r\n\r\n          {/* <Link className=\"inline-link archive-link\" to=\"/archive\" ref={revealArchiveLink}>\r\n        view the archive\r\n      </Link> */}\r\n\r\n          <ul className=\"projects-grid\">\r\n            {prefersReducedMotion ? (\r\n              <>\r\n                {projectsToShow &&\r\n                  projectsToShow.map(({ node }, i) => (\r\n                    <StyledProject key={i}>{projectInner(node)}</StyledProject>\r\n                  ))}\r\n              </>\r\n            ) : (\r\n              <TransitionGroup component={null}>\r\n                {projectsToShow &&\r\n                  projectsToShow.map(({ node }, i) => (\r\n                    <CSSTransition\r\n                      key={i}\r\n                      classNames=\"fadeup\"\r\n                      timeout={i >= GRID_LIMIT ? (i - GRID_LIMIT) * 300 : 300}\r\n                      exit={false}>\r\n                      <StyledProject\r\n                        key={i}\r\n                        ref={el => (revealProjects.current[i] = el)}\r\n                        style={{\r\n                          transitionDelay: `${i >= GRID_LIMIT ? (i - GRID_LIMIT) * 100 : 0}ms`,\r\n                        }}>\r\n                        {projectInner(node)}\r\n                      </StyledProject>\r\n                    </CSSTransition>\r\n                  ))}\r\n              </TransitionGroup>\r\n            )}\r\n          </ul>\r\n\r\n          <button className=\"more-button\" onClick={() => setShowMore(!showMore)}>\r\n            Show {showMore ? 'Less' : 'More'}\r\n          </button>\r\n        </StyledProjectsSection>\r\n      </main>\r\n    </Layout>\r\n  );\r\n};\r\nArchivePage.propTypes = {\r\n  location: PropTypes.object.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default ArchivePage;\r\n"],"names":["StyledProjectsSection","styled","section","withConfig","displayName","componentId","_ref","theme","mixins","resetList","_ref2","button","StyledProject","li","_ref3","boxShadow","_ref4","flexBetween","props","lightnavy","_ref5","higlight","lightslate","_ref6","flexCenter","lightestslate","_ref7","inlineLink","_ref8","location","revealTitle","useRef","revealProjects","prefersReducedMotion","usePrefersReducedMotion","showMore","setShowMore","useState","data","useStaticQuery","useEffect","sr","reveal","current","srConfig","forEach","ref","i","projects","edges","filter","_ref9","node","firstSix","slice","projectsToShow","projectInner","frontmatter","html","github","title","tags","React","className","style","width","margin","Icon","name","href","target","rel","dangerouslySetInnerHTML","__html","map","tag","key","Layout","Helmet","_ref10","TransitionGroup","component","_ref11","CSSTransition","classNames","timeout","exit","el","transitionDelay","onClick"],"sourceRoot":""}